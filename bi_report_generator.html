<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Labs - Business Intelligence Suite</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Orbitron:wght@400;500;600;700;800;900&family=Roboto+Mono:wght@400;500;600;700&display=swap');
        
        /* Recipe Labs Brand Colors */
        :root {
            --brand-deep-blue: #0D1B2A;
            --brand-steel-gray: #415A77;
            --brand-electric-blue: #00BFFF;
            --brand-silver: #E0E1DD;
            --brand-racing-red: #D90429;
            --brand-surface: #151B3D;
            --brand-surface-light: #1E2749;
            --accent-color: #00BFFF;
            --accent-color-rgb: 0, 191, 255;
        }
        
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif; 
            line-height: 1.6; 
            color: var(--brand-silver); 
            background: var(--brand-deep-blue);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Landing Page Styles */
        #landingPage {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: linear-gradient(135deg, #0A0E27 0%, #0D1B2A 100%);
            overflow: hidden;
        }
        
        /* Hexagonal Grid Background */
        .hex-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.3;
            background-image: 
                repeating-linear-gradient(0deg, transparent, transparent 49px, rgba(0, 191, 255, 0.1) 49px, rgba(0, 191, 255, 0.1) 50px),
                repeating-linear-gradient(60deg, transparent, transparent 49px, rgba(0, 191, 255, 0.1) 49px, rgba(0, 191, 255, 0.1) 50px),
                repeating-linear-gradient(120deg, transparent, transparent 49px, rgba(0, 191, 255, 0.1) 49px, rgba(0, 191, 255, 0.1) 50px);
            background-size: 100px 100px;
            animation: hexMove 20s linear infinite;
        }
        
        @keyframes hexMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }
        
        .landing-content {
            position: relative;
            z-index: 10;
            text-align: center;
            padding: 40px;
        }
        
        .logo-container {
            margin-bottom: 40px;
        }
        
        .logo-main {
            font-family: 'Orbitron', sans-serif;
            font-size: 5em;
            font-weight: 900;
            color: #ffffff;
            text-shadow: 0 0 30px rgba(0, 191, 255, 0.8),
                         0 0 60px rgba(0, 191, 255, 0.5),
                         0 0 90px rgba(0, 191, 255, 0.3);
            letter-spacing: 0.05em;
            margin-bottom: 10px;
        }
        
        .logo-labs {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5em;
            font-weight: 400;
            color: var(--brand-electric-blue);
            text-shadow: 0 0 20px rgba(0, 191, 255, 0.6);
            letter-spacing: 0.2em;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            margin-top: 10px;
        }
        
        .logo-labs span {
            display: block;
        }
        
        .tagline {
            font-size: 1.3em;
            color: var(--brand-silver);
            opacity: 0.9;
            margin-bottom: 60px;
            font-weight: 300;
            line-height: 1.8;
        }
        
        .enter-button {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid var(--brand-electric-blue);
            border-radius: 16px;
            padding: 20px 60px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2em;
            font-weight: 700;
            color: #ffffff;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 40px rgba(0, 191, 255, 0.4),
                        inset 0 0 20px rgba(0, 191, 255, 0.1);
        }
        
        .enter-button::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, transparent, var(--brand-electric-blue), transparent);
            box-shadow: 0 0 20px var(--brand-electric-blue);
        }
        
        .enter-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 60px rgba(0, 191, 255, 0.6),
                        inset 0 0 30px rgba(0, 191, 255, 0.2);
            border-color: var(--brand-electric-blue);
        }
        
        /* Dashboard Styles - Hidden by default */
        #dashboard {
            display: none;
            min-height: 100vh;
            background: var(--brand-deep-blue);
        }
        
        /* Sidebar */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 80px;
            height: 100vh;
            background: rgba(13, 27, 42, 0.95);
            border-right: 1px solid rgba(0, 191, 255, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }
        
        .sidebar-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--brand-silver);
            background: rgba(0, 191, 255, 0.1);
            border: 1px solid rgba(0, 191, 255, 0.2);
        }
        
        .sidebar-icon:first-child {
            background: linear-gradient(135deg, var(--brand-steel-gray), var(--brand-electric-blue));
            color: #ffffff;
            border: none;
            margin-bottom: 30px;
        }
        
        .sidebar-icon:hover {
            background: rgba(0, 191, 255, 0.2);
            transform: scale(1.1);
        }
        
        .sidebar-icon svg {
            width: 24px;
            height: 24px;
            stroke: currentColor;
            stroke-width: 2;
            fill: none;
        }
        
        /* Top Header */
        .top-header {
            position: fixed;
            top: 0;
            left: 80px;
            right: 0;
            height: 70px;
            background: rgba(13, 27, 42, 0.95);
            border-bottom: 1px solid rgba(0, 191, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 30px;
            z-index: 90;
            backdrop-filter: blur(10px);
        }
        
        .search-bar {
            flex: 1;
            max-width: 600px;
            margin: 0 40px;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 20px 12px 50px;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(0, 191, 255, 0.3);
            border-radius: 12px;
            color: var(--brand-silver);
            font-family: 'Inter', sans-serif;
            font-size: 0.95em;
            transition: all 0.3s ease;
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--brand-electric-blue);
            box-shadow: 0 0 20px rgba(0, 191, 255, 0.3);
        }
        
        .search-icon {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--brand-electric-blue);
            width: 20px;
            height: 20px;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-name {
            text-align: right;
        }
        
        .user-name div:first-child {
            font-weight: 600;
            color: var(--brand-silver);
        }
        
        .user-name div:last-child {
            font-size: 0.85em;
            color: var(--brand-silver);
            opacity: 0.7;
        }
        
        .header-icons {
            display: flex;
            gap: 12px;
        }
        
        .header-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 191, 255, 0.1);
            border: 1px solid rgba(0, 191, 255, 0.2);
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--brand-silver);
        }
        
        .header-icon:hover {
            background: rgba(0, 191, 255, 0.2);
            transform: scale(1.1);
        }
        
        .header-icon svg {
            width: 18px;
            height: 18px;
            stroke: currentColor;
            stroke-width: 2;
        }
        
        /* Main Content */
        .main-content {
            margin-left: 80px;
            margin-top: 70px;
            padding: 40px;
            min-height: calc(100vh - 70px);
        }
        
        .welcome-section {
            margin-bottom: 50px;
        }
        
        .welcome-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5em;
            font-weight: 700;
            color: var(--brand-silver);
            margin-bottom: 10px;
        }
        
        .welcome-subtitle {
            font-size: 1.1em;
            color: var(--brand-silver);
            opacity: 0.7;
        }
        
        .section-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5em;
            font-weight: 600;
            color: var(--brand-silver);
            margin: 40px 0 20px 0;
        }
        
        .section-title svg {
            width: 24px;
            height: 24px;
            stroke: var(--brand-electric-blue);
            stroke-width: 2;
        }
        
        /* Cards Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }
        
        .card {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .card:hover {
            transform: translateY(-4px);
            border-color: var(--brand-electric-blue);
            box-shadow: 0 20px 40px rgba(0, 191, 255, 0.2);
        }
        
        .card-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 16px;
        }
        
        .card-icon {
            width: 56px;
            height: 56px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 16px;
        }
        
        .card-icon.blue {
            background: linear-gradient(135deg, var(--brand-steel-gray), var(--brand-electric-blue));
            color: #ffffff;
        }
        
        .card-icon.red {
            background: linear-gradient(135deg, var(--brand-racing-red), #ff4757);
            color: #ffffff;
        }
        
        .card-icon.green {
            background: linear-gradient(135deg, #4CAF50, #66BB6A);
            color: #ffffff;
        }
        
        .card-icon.purple {
            background: linear-gradient(135deg, #9C27B0, #BA68C8);
            color: #ffffff;
        }
        
        .favorite-icon {
            width: 24px;
            height: 24px;
            cursor: pointer;
            opacity: 0.5;
            transition: all 0.2s ease;
        }
        
        .favorite-icon:hover {
            opacity: 1;
            transform: scale(1.2);
        }
        
        .favorite-icon.active {
            opacity: 1;
            color: #FFD23F;
        }
        
        .card-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2em;
            font-weight: 600;
            color: var(--brand-silver);
            margin-bottom: 8px;
        }
        
        .card-description {
            font-size: 0.9em;
            color: var(--brand-silver);
            opacity: 0.7;
            line-height: 1.6;
            margin-bottom: 16px;
        }
        
        .card-meta {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 0.85em;
            color: var(--brand-silver);
            opacity: 0.6;
        }
        
        .card-category {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .card-category svg {
            width: 16px;
            height: 16px;
        }
        
        /* Empty State Cards */
        .empty-card {
            border: 2px dashed rgba(255, 255, 255, 0.2);
            background: rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
            color: var(--brand-silver);
            opacity: 0.5;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .empty-card:hover {
            border-color: var(--brand-electric-blue);
            opacity: 0.8;
        }
        
        .empty-card-icon {
            width: 48px;
            height: 48px;
            margin-bottom: 12px;
            opacity: 0.5;
        }
        
        /* Generate Report Modal */
        .modal-backdrop {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-backdrop.active {
            display: flex;
        }
        
        .modal {
            background: rgba(0, 0, 0, 0.95);
            border: 1px solid rgba(0, 191, 255, 0.3);
            border-radius: 24px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 40px 80px rgba(0, 191, 255, 0.3);
            animation: modalEnter 0.3s ease;
        }
        
        @keyframes modalEnter {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        .modal-header {
            margin-bottom: 30px;
        }
        
        .modal-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8em;
            font-weight: 700;
            color: var(--brand-electric-blue);
            margin-bottom: 8px;
        }
        
        .modal-subtitle {
            color: var(--brand-silver);
            opacity: 0.7;
        }
        
        .form-group {
            margin-bottom: 24px;
        }
        
        .form-label {
            display: block;
            font-size: 0.9em;
            font-weight: 600;
            color: var(--brand-silver);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .form-input {
            width: 100%;
            padding: 14px 18px;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(0, 191, 255, 0.3);
            border-radius: 12px;
            color: var(--brand-silver);
            font-family: 'Roboto Mono', monospace;
            font-size: 0.95em;
            transition: all 0.3s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--brand-electric-blue);
            box-shadow: 0 0 20px rgba(0, 191, 255, 0.3);
        }
        
        .form-textarea {
            min-height: 100px;
            resize: vertical;
            font-family: 'Inter', sans-serif;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--brand-steel-gray), var(--brand-electric-blue));
            border: none;
            border-radius: 12px;
            padding: 16px 32px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1em;
            font-weight: 700;
            color: var(--brand-deep-blue);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 10px;
        }
        
        .btn-primary:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 24px rgba(0, 191, 255, 0.4);
        }
        
        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        /* Loading State */
        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .loading-overlay.active {
            display: flex;
        }
        
        .ai-loader {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .ai-loader-bar {
            width: 6px;
            height: 40px;
            background: var(--brand-electric-blue);
            border-radius: 3px;
            animation: aiPulse 1.4s ease-in-out infinite;
        }
        
        .ai-loader-bar:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .ai-loader-bar:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes aiPulse {
            0%, 100% {
                transform: scaleY(0.4);
                opacity: 0.5;
            }
            50% {
                transform: scaleY(1);
                opacity: 1;
            }
        }
        
        .loading-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2em;
            color: var(--brand-electric-blue);
            margin-bottom: 10px;
        }
        
        .loading-status {
            color: var(--brand-silver);
            opacity: 0.7;
        }
        
        /* Report Viewer */
        #reportViewer {
            display: none;
        }
        
        .report-header {
            padding: 30px 40px;
            border-bottom: 1px solid rgba(0, 191, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .report-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8em;
            color: var(--brand-electric-blue);
        }
        
        .report-actions {
            display: flex;
            gap: 12px;
        }
        
        .btn-secondary {
            background: rgba(0, 191, 255, 0.1);
            border: 1px solid rgba(0, 191, 255, 0.3);
            border-radius: 8px;
            padding: 10px 20px;
            color: var(--brand-electric-blue);
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .btn-secondary:hover {
            background: rgba(0, 191, 255, 0.2);
        }
        
        .report-content {
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                width: 60px;
            }
            
            .main-content {
                margin-left: 60px;
                padding: 20px;
            }
            
            .top-header {
                left: 60px;
                padding: 0 15px;
            }
            
            .search-bar {
                margin: 0 15px;
            }
            
            .cards-grid {
                grid-template-columns: 1fr;
            }
            
            .logo-main {
                font-size: 3em;
            }
        }
    </style>
</head>
<body>
    <!-- Landing Page -->
    <div id="landingPage">
        <div class="hex-grid"></div>
        <div class="landing-content">
            <div class="logo-container">
                <div class="logo-main">RECIPE</div>
                <div class="logo-labs">
                    <span>L</span>
                    <span>A</span>
                    <span>B</span>
                    <span>S</span>
                </div>
            </div>
            <div class="tagline">
                The AI Suite for Business Intelligence<br>
                Analyze Companies, Generate Reports and Accelerate Growth
            </div>
            <button class="enter-button" onclick="enterGarage()">
                ENTER THE GARAGE
            </button>
        </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboard">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-icon">
                <svg viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="10"/>
                    <text x="12" y="16" text-anchor="middle" font-size="12" font-weight="bold" fill="currentColor">R</text>
                </svg>
            </div>
            <div class="sidebar-icon" onclick="showDashboard()">
                <svg viewBox="0 0 24 24">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="m21 21-4.35-4.35"/>
                </svg>
            </div>
            <div class="sidebar-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                </svg>
            </div>
            <div class="sidebar-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>
            </div>
            <div class="sidebar-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                </svg>
            </div>
            <div class="sidebar-icon">
                <svg viewBox="0 0 24 24">
                    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
                </svg>
            </div>
            <div class="sidebar-icon">
                <svg viewBox="0 0 24 24">
                    <line x1="18" y1="20" x2="18" y2="10"/>
                    <line x1="12" y1="20" x2="12" y2="4"/>
                    <line x1="6" y1="20" x2="6" y2="14"/>
                </svg>
            </div>
            <div class="sidebar-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                </svg>
            </div>
        </div>

        <!-- Top Header -->
        <div class="top-header">
            <div style="position: relative; flex: 1; max-width: 600px; margin: 0 40px;">
                <svg class="search-icon" viewBox="0 0 24 24">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="m21 21-4.35-4.35"/>
                </svg>
                <input type="text" class="search-input" placeholder="Search or ask AI to perform a task" id="searchInput">
            </div>
            <div class="user-info">
                <div class="user-name">
                    <div>Analyst</div>
                    <div>Business Intelligence</div>
                </div>
                <div class="header-icons">
                    <div class="header-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                            <circle cx="12" cy="7" r="4"/>
                        </svg>
                    </div>
                    <div class="header-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 20h9"/>
                            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/>
                        </svg>
                    </div>
                    <div class="header-icon">
                        <svg viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="3"/>
                            <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"/>
                        </svg>
                    </div>
                    <div class="header-icon" onclick="exitGarage()">
                        <svg viewBox="0 0 24 24">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                            <polyline points="16 17 21 12 16 7"/>
                            <line x1="21" y1="12" x2="9" y2="12"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="welcome-section">
                <div class="welcome-title">Welcome to the Garage, Analyst</div>
                <div class="welcome-subtitle">Your AI-powered business intelligence suite is ready.</div>
            </div>

            <!-- Favorites Section -->
            <div class="section-title">
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                Favorites
            </div>
            <div class="cards-grid" id="favoritesGrid">
                <div class="card empty-card" onclick="showGenerateModal()">
                    <svg class="empty-card-icon" viewBox="0 0 24 24" stroke="currentColor">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="12" y1="8" x2="12" y2="16"/>
                        <line x1="8" y1="12" x2="16" y2="12"/>
                    </svg>
                    <div>Click to generate your first report</div>
                </div>
            </div>

            <!-- Generate New Report Section -->
            <div class="section-title">
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                    <line x1="12" y1="18" x2="12" y2="12"/>
                    <line x1="9" y1="15" x2="15" y2="15"/>
                </svg>
                Generate New Report
            </div>
            <div class="cards-grid">
                <div class="card" onclick="showGenerateModal()">
                    <div class="card-header">
                        <div class="card-icon blue">ðŸ“Š</div>
                        <svg class="favorite-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                        </svg>
                    </div>
                    <div class="card-title">Business Intelligence Report</div>
                    <div class="card-description">Generate a comprehensive business intelligence report for any company by analyzing their website and market position.</div>
                    <div class="card-meta">
                        <div class="card-category">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                            <span>Analysis</span>
                        </div>
                        <div>Click to start</div>
                    </div>
                </div>
            </div>

            <!-- Recent Reports Section -->
            <div class="section-title">
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                </svg>
                Recent Reports
            </div>
            <div class="cards-grid" id="reportsGrid">
                <!-- Reports will be dynamically added here -->
            </div>
        </div>
    </div>

    <!-- Generate Report Modal -->
    <div class="modal-backdrop" id="generateModal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">Generate Business Intelligence Report</div>
                <div class="modal-subtitle">Enter company details to create a comprehensive analysis</div>
            </div>
            <form id="reportForm" onsubmit="generateReport(event)">
                <div class="form-group">
                    <label class="form-label" for="websiteUrl">Company Website URL *</label>
                    <input type="url" id="websiteUrl" class="form-input" placeholder="https://example.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="companyName">Company Name (Optional)</label>
                    <input type="text" id="companyName" class="form-input" placeholder="Leave blank for AI to extract">
                </div>
                <div class="form-group">
                    <label class="form-label" for="apiKey">Anthropic API Key *</label>
                    <input type="password" id="apiKey" class="form-input" placeholder="sk-ant-..." required>
                    <small style="color: var(--brand-silver); opacity: 0.6; display: block; margin-top: 5px;">
                        Get your API key from <a href="https://console.anthropic.com/" target="_blank" style="color: var(--brand-electric-blue);">console.anthropic.com</a>
                    </small>
                </div>
                <div class="form-group">
                    <label class="form-label" for="analysisDepth">Analysis Depth</label>
                    <select id="analysisDepth" class="form-input">
                        <option value="standard">Standard (5-10 min)</option>
                        <option value="comprehensive" selected>Comprehensive (10-15 min)</option>
                        <option value="deep">Deep Dive (15-20 min)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label" for="additionalContext">Additional Context (Optional)</label>
                    <textarea id="additionalContext" class="form-input form-textarea" placeholder="Add any specific information you want the AI to consider..."></textarea>
                </div>
                <button type="submit" class="btn-primary" id="generateBtn">Generate Report</button>
            </form>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="ai-loader">
            <div class="ai-loader-bar"></div>
            <div class="ai-loader-bar"></div>
            <div class="ai-loader-bar"></div>
        </div>
        <div class="loading-text">Generating Report...</div>
        <div class="loading-status" id="loadingStatus">Initializing analysis...</div>
    </div>

    <!-- Report Viewer -->
    <div id="reportViewer">
        <div class="report-header">
            <div class="report-title" id="reportTitle">Business Intelligence Report</div>
            <div class="report-actions">
                <button class="btn-secondary" onclick="downloadReport()">Download</button>
                <button class="btn-secondary" onclick="showDashboard()">Back to Dashboard</button>
            </div>
        </div>
        <div class="report-content" id="reportContent">
            <!-- Report content will be inserted here -->
        </div>
    </div>

    <script>
        let currentApiKey = '';
        let reports = JSON.parse(localStorage.getItem('bi_reports') || '[]');

        function enterGarage() {
            document.getElementById('landingPage').style.display = 'none';
            document.getElementById('dashboard').style.display = 'block';
            loadReports();
        }

        function exitGarage() {
            if (confirm('Exit the Garage?')) {
                document.getElementById('landingPage').style.display = 'flex';
                document.getElementById('dashboard').style.display = 'none';
                document.getElementById('reportViewer').style.display = 'none';
            }
        }

        function showDashboard() {
            document.getElementById('dashboard').style.display = 'block';
            document.getElementById('reportViewer').style.display = 'none';
        }

        function showGenerateModal() {
            document.getElementById('generateModal').classList.add('active');
            const savedKey = localStorage.getItem('recipe_labs_api_key');
            if (savedKey) {
                document.getElementById('apiKey').value = savedKey;
            }
        }

        function hideGenerateModal() {
            document.getElementById('generateModal').classList.remove('active');
        }

        // Close modal on backdrop click
        document.getElementById('generateModal').addEventListener('click', function(e) {
            if (e.target === this) {
                hideGenerateModal();
            }
        });

        async function generateReport(event) {
            event.preventDefault();
            
            const websiteUrl = document.getElementById('websiteUrl').value;
            const companyName = document.getElementById('companyName').value;
            const apiKey = document.getElementById('apiKey').value;
            const analysisDepth = document.getElementById('analysisDepth').value;
            const additionalContext = document.getElementById('additionalContext').value;
            
            currentApiKey = apiKey;
            localStorage.setItem('recipe_labs_api_key', apiKey);
            
            hideGenerateModal();
            document.getElementById('loadingOverlay').classList.add('active');
            document.getElementById('generateBtn').disabled = true;
            
            try {
                updateLoadingStatus('Scraping website content...');
                const websiteContent = await scrapeWebsite(websiteUrl);
                
                updateLoadingStatus('Generating comprehensive report...');
                const report = await generateAIReport(
                    websiteUrl,
                    companyName,
                    websiteContent,
                    analysisDepth,
                    additionalContext
                );
                
                const reportData = {
                    id: Date.now(),
                    companyName: companyName || extractCompanyName(report) || 'Company',
                    websiteUrl: websiteUrl,
                    date: new Date().toLocaleDateString(),
                    content: report
                };
                
                reports.unshift(reportData);
                localStorage.setItem('bi_reports', JSON.stringify(reports));
                
                displayReport(reportData);
                
            } catch (error) {
                console.error('Error:', error);
                alert('Error generating report: ' + error.message);
            } finally {
                document.getElementById('loadingOverlay').classList.remove('active');
                document.getElementById('generateBtn').disabled = false;
            }
        }

        function updateLoadingStatus(text) {
            document.getElementById('loadingStatus').textContent = text;
        }

        async function scrapeWebsite(url) {
            const response = await fetch('https://api.anthropic.com/v1/messages', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'x-api-key': currentApiKey,
                    'anthropic-version': '2023-06-01'
                },
                body: JSON.stringify({
                    model: 'claude-sonnet-4-20250514',
                    max_tokens: 4096,
                    messages: [{
                        role: 'user',
                        content: `Please fetch and extract key information from this website: ${url}
                        
Extract:
1. Company name and description
2. Products/services offered
3. Target market
4. Key features or unique selling points
5. Any pricing information
6. Contact information
7. Social media links
8. Any other relevant business information

Format the response as structured data.`
                    }]
                })
            });
            
            if (!response.ok) {
                throw new Error(`API request failed: ${response.status}`);
            }
            
            const data = await response.json();
            return data.content[0].text;
        }

        async function generateAIReport(url, companyName, websiteContent, depth, context) {
            const depthInstructions = {
                'standard': 'Provide a comprehensive but concise analysis covering all major areas.',
                'comprehensive': 'Provide a detailed analysis with deep insights across all sections.',
                'deep': 'Provide an exhaustive analysis with extensive research, detailed competitive intelligence, and comprehensive strategic recommendations.'
            };
            
            const prompt = `You are a senior business intelligence analyst at Recipe Labs. Generate a COMPREHENSIVE business intelligence report for the following company.

**Company Website:** ${url}
${companyName ? `**Company Name:** ${companyName}` : ''}

**Website Analysis Results:**
${websiteContent}

${context ? `**Additional Context:**
${context}` : ''}

**Analysis Depth:** ${depthInstructions[depth]}

**REPORT REQUIREMENTS:**

Generate a professional, detailed business intelligence report with the following sections:

1. **EXECUTIVE SUMMARY**
2. **COMPANY OVERVIEW**
3. **MARKET ANALYSIS**
4. **COMPETITIVE INTELLIGENCE**
5. **OPERATIONAL ASSESSMENT**
6. **FINANCIAL ANALYSIS**
7. **DIGITAL PRESENCE & MARKETING**
8. **STRATEGIC ASSESSMENT**
9. **OPPORTUNITY ANALYSIS FOR RECIPE LABS**
10. **RECOMMENDED ACTIONS**

**FORMAT:** Return ONLY the HTML content that should go inside the report container. Include proper section headers, cards, data grids, highlight boxes, and all styling classes. Use the Recipe Labs dark theme with electric blue accents.`;

            const response = await fetch('https://api.anthropic.com/v1/messages', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'x-api-key': currentApiKey,
                    'anthropic-version': '2023-06-01'
                },
                body: JSON.stringify({
                    model: 'claude-sonnet-4-20250514',
                    max_tokens: 16000,
                    temperature: 0.7,
                    messages: [{
                        role: 'user',
                        content: prompt
                    }]
                })
            });
            
            if (!response.ok) {
                const errorData = await response.json();
                throw new Error(errorData.error?.message || 'API request failed');
            }
            
            const data = await response.json();
            return data.content[0].text;
        }

        function extractCompanyName(content) {
            const match = content.match(/company[:\s]+([A-Z][A-Za-z\s&]+)/i);
            return match ? match[1].trim() : null;
        }

        function displayReport(reportData) {
            document.getElementById('reportTitle').textContent = `${reportData.companyName} - Business Intelligence Report`;
            document.getElementById('reportContent').innerHTML = reportData.content;
            document.getElementById('dashboard').style.display = 'none';
            document.getElementById('reportViewer').style.display = 'block';
            loadReports();
        }

        function loadReports() {
            const reportsGrid = document.getElementById('reportsGrid');
            reportsGrid.innerHTML = '';
            
            if (reports.length === 0) {
                reportsGrid.innerHTML = '<div class="card empty-card"><div>No reports yet. Generate your first report to get started.</div></div>';
                return;
            }
            
            reports.slice(0, 6).forEach(report => {
                const card = document.createElement('div');
                card.className = 'card';
                card.onclick = () => displayReport(report);
                
                const iconColors = ['blue', 'red', 'green', 'purple'];
                const iconColor = iconColors[Math.floor(Math.random() * iconColors.length)];
                
                card.innerHTML = `
                    <div class="card-header">
                        <div class="card-icon ${iconColor}">ðŸ“Š</div>
                        <svg class="favorite-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" onclick="event.stopPropagation(); toggleFavorite(${report.id})">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                        </svg>
                    </div>
                    <div class="card-title">${report.companyName}</div>
                    <div class="card-description">Business Intelligence Report generated on ${report.date}</div>
                    <div class="card-meta">
                        <div class="card-category">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            </svg>
                            <span>Report</span>
                        </div>
                        <div>${report.date}</div>
                    </div>
                `;
                
                reportsGrid.appendChild(card);
            });
        }

        function toggleFavorite(id) {
            // Implement favorite functionality
            loadReports();
        }

        function downloadReport() {
            const reportContent = document.getElementById('reportContent').innerHTML;
            const reportTitle = document.getElementById('reportTitle').textContent;
            const fullHtml = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${reportTitle}</title>
    <style>
        ${document.querySelector('style').textContent}
    </style>
</head>
<body>
    <div class="report-content">
        ${reportContent}
    </div>
</body>
</html>`;
            
            const blob = new Blob([fullHtml], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${reportTitle.replace(/[^a-z0-9]/gi, '_')}_${Date.now()}.html`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Auto-load API key
        window.addEventListener('load', () => {
            const savedKey = localStorage.getItem('recipe_labs_api_key');
            if (savedKey) {
                document.getElementById('apiKey').value = savedKey;
            }
        });
    </script>
</body>
</html>
